<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html 
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>Class: Sprout::ToolTask</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
  <meta http-equiv="Content-Script-Type" content="text/javascript" />
  <link rel="stylesheet" href="../.././rdoc-style.css" type="text/css" media="screen" />
  <script type="text/javascript">
  // <![CDATA[

  function popupCode( url ) {
    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
  }

  function toggleCode( id ) {
    if ( document.getElementById )
      elem = document.getElementById( id );
    else if ( document.all )
      elem = eval( "document.all." + id );
    else
      return false;

    elemStyle = elem.style;
    
    if ( elemStyle.display != "block" ) {
      elemStyle.display = "block"
    } else {
      elemStyle.display = "none"
    }

    return true;
  }
  
  // Make codeblocks hidden by default
  document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }</style>" )
  
  // ]]>
  </script>

</head>
<body>



    <div id="classHeader">
        <table class="header-table">
        <tr class="top-aligned-row">
          <td><strong>Class</strong></td>
          <td class="class-name-in-header">Sprout::ToolTask</td>
        </tr>
        <tr class="top-aligned-row">
            <td><strong>In:</strong></td>
            <td>
                <a href="../../files/sprout/lib/sprout/tasks/tool_task_rb.html">
                sprout/lib/sprout/tasks/tool_task.rb
                </a>
        <br />
            </td>
        </tr>

        <tr class="top-aligned-row">
            <td><strong>Parent:</strong></td>
            <td>
                Rake::FileTask
            </td>
        </tr>
        </table>
    </div>
  <!-- banner header -->

  <div id="bodyContent">



  <div id="contextContent">

    <div id="description">
      <p>
The <a href="ToolTask.html">ToolTask</a> provides some base functionality
for any Command Line Interface (CLI) tool. It also provides support for GUI
tools that you would like to expose from the Command Line (Like the Flash
Player for example).
</p>
<p>
<a href="ToolTask.html">ToolTask</a> extends Rake::FileTask, and should be
thought of in the same way. Martin Fowler did a much better job of
describing Rake and specifically FileTasks than I can in his (now classic)
Rake <a
href="http://martinfowler.com/articles/rake.html#FileTasks">article</a>
from 2005.
</p>
<p>
What this means is that most tool task instances should be named for the
file that they will create. For example, an <a
href="MXMLCTask.html">Sprout::MXMLCTask</a> instance should be named for
the SWF that it will generate.
</p>
<pre>
  mxmlc 'bin/SomeProject.swf' =&gt; :corelib do |t|
    t.input                     = 'src/SomeProject.as'
    t.default_size              = '800 600'
  end
</pre>
<p>
In general, a tool task will only be executed if it&#8216;s output file
(name) does not exist or if the output file is older than any file
identified as a prerequisite.
</p>
<p>
Many of the compiler tasks take advantage of this feature by opting out of
unnecessary compilation.
</p>
<p>
Subclasses can add and configure command line parameters by calling the
protected <a href="ToolTask.html#M000139">add_param</a> method that is
implemented on this class.
</p>

    </div>


   </div>

    <div id="method-list">
      <h3 class="section-bar">Methods</h3>

      <div class="name-list">
      <a href="#M000139">add_param</a>&nbsp;&nbsp;
      <a href="#M000140">add_param_alias</a>&nbsp;&nbsp;
      <a href="#M000144">clean_name</a>&nbsp;&nbsp;
      <a href="#M000148">clean_path</a>&nbsp;&nbsp;
      <a href="#M000141">create_param</a>&nbsp;&nbsp;
      <a href="#M000136">default_file_expression</a>&nbsp;&nbsp;
      <a href="#M000135">define</a>&nbsp;&nbsp;
      <a href="#M000124">define_task</a>&nbsp;&nbsp;
      <a href="#M000131">execute</a>&nbsp;&nbsp;
      <a href="#M000125">gem_name</a>&nbsp;&nbsp;
      <a href="#M000126">gem_name=</a>&nbsp;&nbsp;
      <a href="#M000129">gem_path</a>&nbsp;&nbsp;
      <a href="#M000127">gem_version</a>&nbsp;&nbsp;
      <a href="#M000128">gem_version=</a>&nbsp;&nbsp;
      <a href="#M000137">initialize_task</a>&nbsp;&nbsp;
      <a href="#M000145">method_missing</a>&nbsp;&nbsp;
      <a href="#M000142">param_hash</a>&nbsp;&nbsp;
      <a href="#M000133">params</a>&nbsp;&nbsp;
      <a href="#M000134">prepare</a>&nbsp;&nbsp;
      <a href="#M000146">resolve_libraries</a>&nbsp;&nbsp;
      <a href="#M000147">resolve_library</a>&nbsp;&nbsp;
      <a href="#M000143">respond_to?</a>&nbsp;&nbsp;
      <a href="#M000130">to_rdoc</a>&nbsp;&nbsp;
      <a href="#M000132">to_shell</a>&nbsp;&nbsp;
      <a href="#M000138">validate</a>&nbsp;&nbsp;
      </div>
    </div>

  </div>


    <!-- if includes -->

    <div id="section">





    <div id="attribute-list">
      <h3 class="section-bar">Attributes</h3>

      <div class="name-list">
        <table>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">appended_args</td>
          <td class="context-item-value">&nbsp;[RW]&nbsp;</td>
          <td class="context-item-desc">
Arguments to appended at the end of the command line output

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">prepended_args</td>
          <td class="context-item-value">&nbsp;[RW]&nbsp;</td>
          <td class="context-item-desc">
Arguments to be prepended in front of the command line output

</td>
        </tr>
        </table>
      </div>
    </div>
      


    <!-- if method_list -->
    <div id="methods">
      <h3 class="section-bar">Public Class methods</h3>

      <div id="method-M000124" class="method-detail">
        <a name="M000124"></a>

        <div class="method-heading">
          <a href="ToolTask.src/M000124.html" target="Code" class="method-signature"
            onclick="popupCode('ToolTask.src/M000124.html');return false;">
          <span class="method-name">define_task</span><span class="method-args">(args) {|t if block_given?| ...}</span>
          </a>
        </div>
      
        <div class="method-description">
        </div>
      </div>

      <h3 class="section-bar">Public Instance methods</h3>

      <div id="method-M000136" class="method-detail">
        <a name="M000136"></a>

        <div class="method-heading">
          <a href="ToolTask.src/M000136.html" target="Code" class="method-signature"
            onclick="popupCode('ToolTask.src/M000136.html');return false;">
          <span class="method-name">default_file_expression</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
The default file expression to append to each PathParam in order to build
file change prerequisites.
</p>
<p>
Defaults to &#8217;/**/**/*&#8217;
</p>
        </div>
      </div>

      <div id="method-M000135" class="method-detail">
        <a name="M000135"></a>

        <div class="method-heading">
          <a href="ToolTask.src/M000135.html" target="Code" class="method-signature"
            onclick="popupCode('ToolTask.src/M000135.html');return false;">
          <span class="method-name">define</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
        </div>
      </div>

      <div id="method-M000131" class="method-detail">
        <a name="M000131"></a>

        <div class="method-heading">
          <a href="ToolTask.src/M000131.html" target="Code" class="method-signature"
            onclick="popupCode('ToolTask.src/M000131.html');return false;">
          <span class="method-name">execute</span><span class="method-args">(*args)</span>
          </a>
        </div>
      
        <div class="method-description">
        </div>
      </div>

      <div id="method-M000125" class="method-detail">
        <a name="M000125"></a>

        <div class="method-heading">
          <a href="ToolTask.src/M000125.html" target="Code" class="method-signature"
            onclick="popupCode('ToolTask.src/M000125.html');return false;">
          <span class="method-name">gem_name</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Full name of the sprout tool gem that this tool task will use. For example,
the <a href="MXMLCTask.html">MXMLCTask</a> uses the sprout-flex3sdk-tool at
the time of this writing, but will at some point change to use the
sprout-flex3sdk-tool. You can combine this value with <a
href="ToolTask.html#M000127">gem_version</a> in order to specify exactly
which gem your tool task is executing.
</p>
        </div>
      </div>

      <div id="method-M000126" class="method-detail">
        <a name="M000126"></a>

        <div class="method-heading">
          <a href="ToolTask.src/M000126.html" target="Code" class="method-signature"
            onclick="popupCode('ToolTask.src/M000126.html');return false;">
          <span class="method-name">gem_name=</span><span class="method-args">(name)</span>
          </a>
        </div>
      
        <div class="method-description">
        </div>
      </div>

      <div id="method-M000129" class="method-detail">
        <a name="M000129"></a>

        <div class="method-heading">
          <a href="ToolTask.src/M000129.html" target="Code" class="method-signature"
            onclick="popupCode('ToolTask.src/M000129.html');return false;">
          <span class="method-name">gem_path</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
The path inside the installed gem where an executable can be found. For the
<a href="MXMLCTask.html">MXMLCTask</a>, this value is
&#8216;bin/mxmlc&#8217;.
</p>
        </div>
      </div>

      <div id="method-M000127" class="method-detail">
        <a name="M000127"></a>

        <div class="method-heading">
          <a href="ToolTask.src/M000127.html" target="Code" class="method-signature"
            onclick="popupCode('ToolTask.src/M000127.html');return false;">
          <span class="method-name">gem_version</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
The exact gem version that you would like the <a
href="ToolTask.html">ToolTask</a> to <a
href="ToolTask.html#M000131">execute</a>. By default this value should be
nil and will download the latest version of the gem that is available
unless there is a version already installed on your system.
</p>
<p>
This attribute could be an easy way to update your local gem to the latest
version without leaving your build file, but it&#8216;s primary purpose is
to allow you to specify very specific versions of the tools that your
project depends on. This way your team can rest assured that they are all
working with the same tools.
</p>
        </div>
      </div>

      <div id="method-M000128" class="method-detail">
        <a name="M000128"></a>

        <div class="method-heading">
          <a href="ToolTask.src/M000128.html" target="Code" class="method-signature"
            onclick="popupCode('ToolTask.src/M000128.html');return false;">
          <span class="method-name">gem_version=</span><span class="method-args">(version)</span>
          </a>
        </div>
      
        <div class="method-description">
        </div>
      </div>

      <div id="method-M000133" class="method-detail">
        <a name="M000133"></a>

        <div class="method-heading">
          <a href="ToolTask.src/M000133.html" target="Code" class="method-signature"
            onclick="popupCode('ToolTask.src/M000133.html');return false;">
          <span class="method-name">params</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
An Array of all parameters that have been added to this Tool.
</p>
        </div>
      </div>

      <div id="method-M000134" class="method-detail">
        <a name="M000134"></a>

        <div class="method-heading">
          <a href="ToolTask.src/M000134.html" target="Code" class="method-signature"
            onclick="popupCode('ToolTask.src/M000134.html');return false;">
          <span class="method-name">prepare</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Called after initialize and <a href="ToolTask.html#M000135">define</a>,
usually subclasses should only override <a
href="ToolTask.html#M000135">define</a>.
</p>
        </div>
      </div>

      <div id="method-M000130" class="method-detail">
        <a name="M000130"></a>

        <div class="method-heading">
          <a href="ToolTask.src/M000130.html" target="Code" class="method-signature"
            onclick="popupCode('ToolTask.src/M000130.html');return false;">
          <span class="method-name">to_rdoc</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Create a string that can be turned into a file that rdoc can parse to
describe the customized or generated task using param name, type and
description
</p>
        </div>
      </div>

      <div id="method-M000132" class="method-detail">
        <a name="M000132"></a>

        <div class="method-heading">
          <a href="ToolTask.src/M000132.html" target="Code" class="method-signature"
            onclick="popupCode('ToolTask.src/M000132.html');return false;">
          <span class="method-name">to_shell</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Create a string that represents this configured tool for shell execution
</p>
        </div>
      </div>

      <h3 class="section-bar">Protected Instance methods</h3>

      <div id="method-M000139" class="method-detail">
        <a name="M000139"></a>

        <div class="method-heading">
          <a href="ToolTask.src/M000139.html" target="Code" class="method-signature"
            onclick="popupCode('ToolTask.src/M000139.html');return false;">
          <span class="method-name">add_param</span><span class="method-args">(name, type) {|Sprout::TaskParam| ...}</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
<tt><a href="ToolTask.html#M000139">add_param</a></tt> is the workhorse of
the <a href="ToolTask.html">ToolTask</a>. This method is used to add new
shell parameters to the task. <tt>name</tt> is a symbol or string that
represents the parameter that you would like to add such as :debug or
:source_path. <tt>type</tt> is usually sent as a Ruby symbol and can be one
of the following:
</p>
<dl>
<dt>:string</dt><dd>Any string value

</dd>
<dt>:boolean</dt><dd>true or false

</dd>
<dt>:number</dt><dd>Any number

</dd>
<dt>:file</dt><dd>Path to a file

</dd>
<dt>:url</dt><dd>Basic URL

</dd>
<dt>:path</dt><dd>Path to a directory

</dd>
<dt>:files</dt><dd>Collection of files

</dd>
<dt>:paths</dt><dd>Collection of directories

</dd>
<dt>:strings</dt><dd>Collection of arbitrary strings

</dd>
<dt>:urls</dt><dd>Collection of URLs

</dd>
</dl>
<p>
Be sure to check out the <a href="TaskParam.html">Sprout::TaskParam</a>
class to learn more about block editing the parameters.
</p>
<p>
Once parameters have been added using the <tt><a
href="ToolTask.html#M000139">add_param</a></tt> method, clients can set and
get those parameters from the newly created task.
</p>
        </div>
      </div>

      <div id="method-M000140" class="method-detail">
        <a name="M000140"></a>

        <div class="method-heading">
          <a href="ToolTask.src/M000140.html" target="Code" class="method-signature"
            onclick="popupCode('ToolTask.src/M000140.html');return false;">
          <span class="method-name">add_param_alias</span><span class="method-args">(name, other_param)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Alias an existing parameter with another name. For example, the existing
parameter :source_path might be given an alias &#8217;-sp&#8217; as
follows:
</p>
<pre>
  add_param_alias(:sp, :source_path)
</pre>
<p>
Alias parameters cannot be configured differently from the parameter that
they alias
</p>
        </div>
      </div>

      <div id="method-M000144" class="method-detail">
        <a name="M000144"></a>

        <div class="method-heading">
          <a href="ToolTask.src/M000144.html" target="Code" class="method-signature"
            onclick="popupCode('ToolTask.src/M000144.html');return false;">
          <span class="method-name">clean_name</span><span class="method-args">(name)</span>
          </a>
        </div>
      
        <div class="method-description">
        </div>
      </div>

      <div id="method-M000148" class="method-detail">
        <a name="M000148"></a>

        <div class="method-heading">
          <a href="ToolTask.src/M000148.html" target="Code" class="method-signature"
            onclick="popupCode('ToolTask.src/M000148.html');return false;">
          <span class="method-name">clean_path</span><span class="method-args">(path)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
If the provided path contains spaces, wrap it in quotes so that shell tools
won&#8216;t choke on the spaces
</p>
        </div>
      </div>

      <div id="method-M000141" class="method-detail">
        <a name="M000141"></a>

        <div class="method-heading">
          <a href="ToolTask.src/M000141.html" target="Code" class="method-signature"
            onclick="popupCode('ToolTask.src/M000141.html');return false;">
          <span class="method-name">create_param</span><span class="method-args">(type)</span>
          </a>
        </div>
      
        <div class="method-description">
        </div>
      </div>

      <div id="method-M000137" class="method-detail">
        <a name="M000137"></a>

        <div class="method-heading">
          <a href="ToolTask.src/M000137.html" target="Code" class="method-signature"
            onclick="popupCode('ToolTask.src/M000137.html');return false;">
          <span class="method-name">initialize_task</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
        </div>
      </div>

      <div id="method-M000145" class="method-detail">
        <a name="M000145"></a>

        <div class="method-heading">
          <a href="ToolTask.src/M000145.html" target="Code" class="method-signature"
            onclick="popupCode('ToolTask.src/M000145.html');return false;">
          <span class="method-name">method_missing</span><span class="method-args">(name,*args)</span>
          </a>
        </div>
      
        <div class="method-description">
        </div>
      </div>

      <div id="method-M000142" class="method-detail">
        <a name="M000142"></a>

        <div class="method-heading">
          <a href="ToolTask.src/M000142.html" target="Code" class="method-signature"
            onclick="popupCode('ToolTask.src/M000142.html');return false;">
          <span class="method-name">param_hash</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
        </div>
      </div>

      <div id="method-M000146" class="method-detail">
        <a name="M000146"></a>

        <div class="method-heading">
          <a href="ToolTask.src/M000146.html" target="Code" class="method-signature"
            onclick="popupCode('ToolTask.src/M000146.html');return false;">
          <span class="method-name">resolve_libraries</span><span class="method-args">(prerequisites)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Iterate over all prerequisites looking for any that are a <a
href="LibraryTask.html">LibraryTask</a>. Concrete <a
href="ToolTask.html">ToolTask</a> implementations should override <a
href="ToolTask.html#M000147">resolve_library</a> in order to add the
library sources or binaries appropriately.
</p>
        </div>
      </div>

      <div id="method-M000147" class="method-detail">
        <a name="M000147"></a>

        <div class="method-heading">
          <a href="ToolTask.src/M000147.html" target="Code" class="method-signature"
            onclick="popupCode('ToolTask.src/M000147.html');return false;">
          <span class="method-name">resolve_library</span><span class="method-args">(library_task)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Concrete ToolTasks should override this method and add any dependent
libraries appropriately
</p>
        </div>
      </div>

      <div id="method-M000143" class="method-detail">
        <a name="M000143"></a>

        <div class="method-heading">
          <a href="ToolTask.src/M000143.html" target="Code" class="method-signature"
            onclick="popupCode('ToolTask.src/M000143.html');return false;">
          <span class="method-name">respond_to?</span><span class="method-args">(name)</span>
          </a>
        </div>
      
        <div class="method-description">
        </div>
      </div>

      <div id="method-M000138" class="method-detail">
        <a name="M000138"></a>

        <div class="method-heading">
          <a href="ToolTask.src/M000138.html" target="Code" class="method-signature"
            onclick="popupCode('ToolTask.src/M000138.html');return false;">
          <span class="method-name">validate</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
        </div>
      </div>


    </div>


  </div>


<div id="validator-badges">
  <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
</div>

</body>
</html>