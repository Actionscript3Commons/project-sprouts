<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html 
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>Class: Sprout::TaskParam</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
  <meta http-equiv="Content-Script-Type" content="text/javascript" />
  <link rel="stylesheet" href="../.././rdoc-style.css" type="text/css" media="screen" />
  <script type="text/javascript">
  // <![CDATA[

  function popupCode( url ) {
    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
  }

  function toggleCode( id ) {
    if ( document.getElementById )
      elem = document.getElementById( id );
    else if ( document.all )
      elem = eval( "document.all." + id );
    else
      return false;

    elemStyle = elem.style;
    
    if ( elemStyle.display != "block" ) {
      elemStyle.display = "block"
    } else {
      elemStyle.display = "none"
    }

    return true;
  }
  
  // Make codeblocks hidden by default
  document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }</style>" )
  
  // ]]>
  </script>

</head>
<body>



    <div id="classHeader">
        <table class="header-table">
        <tr class="top-aligned-row">
          <td><strong>Class</strong></td>
          <td class="class-name-in-header">Sprout::TaskParam</td>
        </tr>
        <tr class="top-aligned-row">
            <td><strong>In:</strong></td>
            <td>
                <a href="../../files/sprout/lib/sprout/tasks/tool_task_rb.html">
                sprout/lib/sprout/tasks/tool_task.rb
                </a>
        <br />
            </td>
        </tr>

        <tr class="top-aligned-row">
            <td><strong>Parent:</strong></td>
            <td>
                Object
            </td>
        </tr>
        </table>
    </div>
  <!-- banner header -->

  <div id="bodyContent">



  <div id="contextContent">

    <div id="description">
      <p>
The base class for all <a href="ToolTask.html">ToolTask</a> parameters.
This class is extended by a variety of concrete implementations.
</p>
<p>
At the time of this writing, only the :boolean <a
href="TaskParam.html">TaskParam</a> modifies the interface by adding the
<tt>show_on_false</tt> attribute.
</p>
<p>
Some other helpful features are as follows:
</p>
<p>
:file, :files, :path and :paths will all add any items that have been added
to their values as file task prerequisites. This is especially helpful when
writing rake tasks for Command Line Interface (CLI) compilers.
</p>

    </div>


   </div>

    <div id="method-list">
      <h3 class="section-bar">Methods</h3>

      <div class="name-list">
      <a href="#M000532">cleaned_preprocessed_path</a>&nbsp;&nbsp;
      <a href="#M000525">delimiter</a>&nbsp;&nbsp;
      <a href="#M000520">hidden_name?</a>&nbsp;&nbsp;
      <a href="#M000521">hidden_value?</a>&nbsp;&nbsp;
      <a href="#M000514">init</a>&nbsp;&nbsp;
      <a href="#M000522">prefix</a>&nbsp;&nbsp;
      <a href="#M000518">prepare</a>&nbsp;&nbsp;
      <a href="#M000534">prepare_preprocessor_file</a>&nbsp;&nbsp;
      <a href="#M000531">prepare_preprocessor_files</a>&nbsp;&nbsp;
      <a href="#M000533">prepare_preprocessor_path</a>&nbsp;&nbsp;
      <a href="#M000530">prepare_preprocessor_paths</a>&nbsp;&nbsp;
      <a href="#M000519">prepare_prerequisites</a>&nbsp;&nbsp;
      <a href="#M000537">preprocess_content</a>&nbsp;&nbsp;
      <a href="#M000516">required?</a>&nbsp;&nbsp;
      <a href="#M000536">setup_preprocessing_file_tasks</a>&nbsp;&nbsp;
      <a href="#M000526">shell_name</a>&nbsp;&nbsp;
      <a href="#M000524">shell_value</a>&nbsp;&nbsp;
      <a href="#M000529">should_preprocess?</a>&nbsp;&nbsp;
      <a href="#M000535">text_file?</a>&nbsp;&nbsp;
      <a href="#M000528">to_rdoc</a>&nbsp;&nbsp;
      <a href="#M000527">to_shell</a>&nbsp;&nbsp;
      <a href="#M000517">validate</a>&nbsp;&nbsp;
      <a href="#M000523">value</a>&nbsp;&nbsp;
      <a href="#M000515">visible?</a>&nbsp;&nbsp;
      </div>
    </div>

  </div>


    <!-- if includes -->

    <div id="section">





    <div id="attribute-list">
      <h3 class="section-bar">Attributes</h3>

      <div class="name-list">
        <table>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">belongs_to</td>
          <td class="context-item-value">&nbsp;[RW]&nbsp;</td>
          <td class="context-item-desc"></td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">delimiter</td>
          <td class="context-item-value">&nbsp;[W]&nbsp;</td>
          <td class="context-item-desc"></td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">description</td>
          <td class="context-item-value">&nbsp;[RW]&nbsp;</td>
          <td class="context-item-desc"></td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">file_expression</td>
          <td class="context-item-value">&nbsp;[W]&nbsp;</td>
          <td class="context-item-desc">
Set the file_expression (blob) to append to each path in order to build the
prerequisites FileList.

<p>
Defaults to parent <a
href="ToolTask.html#M000116">ToolTask.default_file_expression</a>
</p>
</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">hidden_name</td>
          <td class="context-item-value">&nbsp;[RW]&nbsp;</td>
          <td class="context-item-desc"></td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">hidden_value</td>
          <td class="context-item-value">&nbsp;[RW]&nbsp;</td>
          <td class="context-item-desc"></td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">name</td>
          <td class="context-item-value">&nbsp;[RW]&nbsp;</td>
          <td class="context-item-desc"></td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">prefix</td>
          <td class="context-item-value">&nbsp;[W]&nbsp;</td>
          <td class="context-item-desc"></td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">preprocessable</td>
          <td class="context-item-value">&nbsp;[RW]&nbsp;</td>
          <td class="context-item-desc"></td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">required</td>
          <td class="context-item-value">&nbsp;[RW]&nbsp;</td>
          <td class="context-item-desc"></td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">shell_name</td>
          <td class="context-item-value">&nbsp;[W]&nbsp;</td>
          <td class="context-item-desc"></td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">type</td>
          <td class="context-item-value">&nbsp;[RW]&nbsp;</td>
          <td class="context-item-desc"></td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">validator</td>
          <td class="context-item-value">&nbsp;[RW]&nbsp;</td>
          <td class="context-item-desc"></td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">value</td>
          <td class="context-item-value">&nbsp;[W]&nbsp;</td>
          <td class="context-item-desc"></td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">visible</td>
          <td class="context-item-value">&nbsp;[RW]&nbsp;</td>
          <td class="context-item-desc"></td>
        </tr>
        </table>
      </div>
    </div>
      


    <!-- if method_list -->
    <div id="methods">
      <h3 class="section-bar">Public Instance methods</h3>

      <div id="method-M000525" class="method-detail">
        <a name="M000525"></a>

        <div class="method-heading">
          <a href="#M000525" class="method-signature">
          <span class="method-name">delimiter</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
ToolParams join their name/value pair with an equals sign by default, this
can be modified To a space or whatever you wish
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000525-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000525-source">
<pre>
<span class="ruby-comment cmt"># File sprout/lib/sprout/tasks/tool_task.rb, line 487</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">delimiter</span>
      <span class="ruby-ivar">@delimiter</span> <span class="ruby-operator">||=</span> <span class="ruby-value str">'='</span>
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000520" class="method-detail">
        <a name="M000520"></a>

        <div class="method-heading">
          <a href="#M000520" class="method-signature">
          <span class="method-name">hidden_name?</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Should the param name be hidden from the shell? Used for params like
&#8216;input&#8217; on mxmlc
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000520-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000520-source">
<pre>
<span class="ruby-comment cmt"># File sprout/lib/sprout/tasks/tool_task.rb, line 454</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">hidden_name?</span>
      <span class="ruby-ivar">@hidden_name</span> <span class="ruby-operator">||=</span> <span class="ruby-keyword kw">false</span>
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000521" class="method-detail">
        <a name="M000521"></a>

        <div class="method-heading">
          <a href="#M000521" class="method-signature">
          <span class="method-name">hidden_value?</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Should the param <a href="TaskParam.html#M000523">value</a> be hidden from
the shell? Usually used for Boolean toggles like &#8217;-debug&#8216;
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000521-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000521-source">
<pre>
<span class="ruby-comment cmt"># File sprout/lib/sprout/tasks/tool_task.rb, line 460</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">hidden_value?</span>
      <span class="ruby-ivar">@hidden_value</span> <span class="ruby-operator">||=</span> <span class="ruby-keyword kw">false</span>
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000514" class="method-detail">
        <a name="M000514"></a>

        <div class="method-heading">
          <a href="#M000514" class="method-signature">
          <span class="method-name">init</span><span class="method-args">() {|self if block_given?| ...}</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000514-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000514-source">
<pre>
<span class="ruby-comment cmt"># File sprout/lib/sprout/tasks/tool_task.rb, line 425</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">init</span>
      <span class="ruby-keyword kw">yield</span> <span class="ruby-keyword kw">self</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">block_given?</span>
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000522" class="method-detail">
        <a name="M000522"></a>

        <div class="method-heading">
          <a href="#M000522" class="method-signature">
          <span class="method-name">prefix</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Leading character for each parameter Can sometimes be an empty string,
other times it&#8216;s a double dash &#8217;&#8212;&#8217; but usually
it&#8216;s just a single dash &#8217;-&#8217;
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000522-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000522-source">
<pre>
<span class="ruby-comment cmt"># File sprout/lib/sprout/tasks/tool_task.rb, line 468</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">prefix</span>
      <span class="ruby-ivar">@prefix</span> <span class="ruby-operator">||=</span> <span class="ruby-value str">'-'</span>
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000518" class="method-detail">
        <a name="M000518"></a>

        <div class="method-heading">
          <a href="#M000518" class="method-signature">
          <span class="method-name">prepare</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000518-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000518-source">
<pre>
<span class="ruby-comment cmt"># File sprout/lib/sprout/tasks/tool_task.rb, line 445</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">prepare</span>
      <span class="ruby-identifier">prepare_prerequisites</span>
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000519" class="method-detail">
        <a name="M000519"></a>

        <div class="method-heading">
          <a href="#M000519" class="method-signature">
          <span class="method-name">prepare_prerequisites</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000519-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000519-source">
<pre>
<span class="ruby-comment cmt"># File sprout/lib/sprout/tasks/tool_task.rb, line 449</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">prepare_prerequisites</span>
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000516" class="method-detail">
        <a name="M000516"></a>

        <div class="method-heading">
          <a href="#M000516" class="method-signature">
          <span class="method-name">required?</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000516-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000516-source">
<pre>
<span class="ruby-comment cmt"># File sprout/lib/sprout/tasks/tool_task.rb, line 435</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">required?</span>
      (<span class="ruby-identifier">required</span> <span class="ruby-operator">==</span> <span class="ruby-keyword kw">true</span>)
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000526" class="method-detail">
        <a name="M000526"></a>

        <div class="method-heading">
          <a href="#M000526" class="method-signature">
          <span class="method-name">shell_name</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Return the name with a single leading dash and underscores replaced with
dashes
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000526-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000526-source">
<pre>
<span class="ruby-comment cmt"># File sprout/lib/sprout/tasks/tool_task.rb, line 493</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">shell_name</span>
      <span class="ruby-ivar">@shell_name</span> <span class="ruby-operator">||=</span> <span class="ruby-identifier">prefix</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">name</span>.<span class="ruby-identifier">split</span>(<span class="ruby-value str">'_'</span>).<span class="ruby-identifier">join</span>(<span class="ruby-value str">'-'</span>)
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000524" class="method-detail">
        <a name="M000524"></a>

        <div class="method-heading">
          <a href="#M000524" class="method-signature">
          <span class="method-name">shell_value</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000524-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000524-source">
<pre>
<span class="ruby-comment cmt"># File sprout/lib/sprout/tasks/tool_task.rb, line 476</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">shell_value</span>
      <span class="ruby-identifier">value</span>.<span class="ruby-identifier">to_s</span>
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000528" class="method-detail">
        <a name="M000528"></a>

        <div class="method-heading">
          <a href="#M000528" class="method-signature">
          <span class="method-name">to_rdoc</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Create a string that can be turned into a file that rdoc can parse to
describe the customized or generated task using param name, type and
description
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000528-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000528-source">
<pre>
<span class="ruby-comment cmt"># File sprout/lib/sprout/tasks/tool_task.rb, line 511</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">to_rdoc</span>
      <span class="ruby-identifier">result</span> = <span class="ruby-value str">''</span>
      <span class="ruby-identifier">parts</span> = <span class="ruby-identifier">description</span>.<span class="ruby-identifier">split</span>(<span class="ruby-value str">&quot;\n&quot;</span>) <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">description</span>.<span class="ruby-identifier">nil?</span>
      <span class="ruby-identifier">result</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;# #{parts.join(&quot;\n# &quot;)}\n&quot;</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">description</span>.<span class="ruby-identifier">nil?</span>
      <span class="ruby-identifier">result</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;def #{name}=(#{type})\n  @#{name} = #{type}\nend\n\n&quot;</span>
      <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">result</span>
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000527" class="method-detail">
        <a name="M000527"></a>

        <div class="method-heading">
          <a href="#M000527" class="method-signature">
          <span class="method-name">to_shell</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000527-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000527-source">
<pre>
<span class="ruby-comment cmt"># File sprout/lib/sprout/tasks/tool_task.rb, line 497</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">to_shell</span>
      <span class="ruby-keyword kw">if</span>(<span class="ruby-identifier">hidden_name?</span>)
        <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">shell_value</span>
      <span class="ruby-keyword kw">elsif</span>(<span class="ruby-identifier">hidden_value?</span>)
        <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">shell_name</span>
      <span class="ruby-keyword kw">else</span>
        <span class="ruby-keyword kw">return</span> <span class="ruby-node">&quot;#{shell_name}#{delimiter}#{shell_value}&quot;</span>
      <span class="ruby-keyword kw">end</span>
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000517" class="method-detail">
        <a name="M000517"></a>

        <div class="method-heading">
          <a href="#M000517" class="method-signature">
          <span class="method-name">validate</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000517-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000517-source">
<pre>
<span class="ruby-comment cmt"># File sprout/lib/sprout/tasks/tool_task.rb, line 439</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">validate</span>
      <span class="ruby-keyword kw">if</span>(<span class="ruby-identifier">required?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">visible?</span>)
        <span class="ruby-identifier">raise</span> <span class="ruby-constant">ToolTaskError</span>.<span class="ruby-identifier">new</span>(<span class="ruby-node">&quot;#{name} is required and must not be nil&quot;</span>)
      <span class="ruby-keyword kw">end</span>
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000523" class="method-detail">
        <a name="M000523"></a>

        <div class="method-heading">
          <a href="#M000523" class="method-signature">
          <span class="method-name">value</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000523-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000523-source">
<pre>
<span class="ruby-comment cmt"># File sprout/lib/sprout/tasks/tool_task.rb, line 472</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">value</span>
      <span class="ruby-ivar">@value</span> <span class="ruby-operator">||=</span> <span class="ruby-keyword kw">nil</span>
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000515" class="method-detail">
        <a name="M000515"></a>

        <div class="method-heading">
          <a href="#M000515" class="method-signature">
          <span class="method-name">visible?</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
By default, ToolParams only appear in the shell output when they are not
nil
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000515-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000515-source">
<pre>
<span class="ruby-comment cmt"># File sprout/lib/sprout/tasks/tool_task.rb, line 431</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">visible?</span>
      <span class="ruby-ivar">@visible</span> <span class="ruby-operator">||=</span> <span class="ruby-identifier">value</span>
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <h3 class="section-bar">Protected Instance methods</h3>

      <div id="method-M000532" class="method-detail">
        <a name="M000532"></a>

        <div class="method-heading">
          <a href="#M000532" class="method-signature">
          <span class="method-name">cleaned_preprocessed_path</span><span class="method-args">(path)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000532-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000532-source">
<pre>
<span class="ruby-comment cmt"># File sprout/lib/sprout/tasks/tool_task.rb, line 541</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">cleaned_preprocessed_path</span>(<span class="ruby-identifier">path</span>)
      <span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-identifier">belongs_to</span>.<span class="ruby-identifier">preprocessed_path</span>, <span class="ruby-identifier">path</span>.<span class="ruby-identifier">gsub</span>(<span class="ruby-value str">'../'</span>, <span class="ruby-value str">'backslash/'</span>))
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000534" class="method-detail">
        <a name="M000534"></a>

        <div class="method-heading">
          <a href="#M000534" class="method-signature">
          <span class="method-name">prepare_preprocessor_file</span><span class="method-args">(input_file)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000534-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000534-source">
<pre>
<span class="ruby-comment cmt"># File sprout/lib/sprout/tasks/tool_task.rb, line 556</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">prepare_preprocessor_file</span>(<span class="ruby-identifier">input_file</span>)
      <span class="ruby-identifier">output_file</span> = <span class="ruby-identifier">cleaned_preprocessed_path</span>(<span class="ruby-identifier">input_file</span>)
      <span class="ruby-identifier">setup_preprocessing_file_tasks</span>(<span class="ruby-identifier">input_file</span>, <span class="ruby-identifier">output_file</span>)
      <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">output_file</span>
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000531" class="method-detail">
        <a name="M000531"></a>

        <div class="method-heading">
          <a href="#M000531" class="method-signature">
          <span class="method-name">prepare_preprocessor_files</span><span class="method-args">(files)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000531-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000531-source">
<pre>
<span class="ruby-comment cmt"># File sprout/lib/sprout/tasks/tool_task.rb, line 533</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">prepare_preprocessor_files</span>(<span class="ruby-identifier">files</span>)
      <span class="ruby-identifier">processed</span> = []
      <span class="ruby-identifier">files</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">file</span><span class="ruby-operator">|</span>
        <span class="ruby-identifier">processed</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">prepare_preprocessor_file</span>(<span class="ruby-identifier">file</span>)
      <span class="ruby-keyword kw">end</span>
      <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">processed</span>
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000533" class="method-detail">
        <a name="M000533"></a>

        <div class="method-heading">
          <a href="#M000533" class="method-signature">
          <span class="method-name">prepare_preprocessor_path</span><span class="method-args">(path)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000533-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000533-source">
<pre>
<span class="ruby-comment cmt"># File sprout/lib/sprout/tasks/tool_task.rb, line 545</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">prepare_preprocessor_path</span>(<span class="ruby-identifier">path</span>)
      <span class="ruby-identifier">processed_path</span> = <span class="ruby-identifier">cleaned_preprocessed_path</span>(<span class="ruby-identifier">path</span>)
      <span class="ruby-constant">FileUtils</span>.<span class="ruby-identifier">mkdir_p</span>(<span class="ruby-identifier">processed_path</span>)
      <span class="ruby-identifier">files</span> = <span class="ruby-constant">FileList</span>[<span class="ruby-identifier">path</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">file_expression</span>]
      <span class="ruby-identifier">files</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">input_file</span><span class="ruby-operator">|</span>
        <span class="ruby-identifier">prepare_preprocessor_file</span>(<span class="ruby-identifier">input_file</span>)
      <span class="ruby-keyword kw">end</span>
      
      <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">processed_path</span>
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000530" class="method-detail">
        <a name="M000530"></a>

        <div class="method-heading">
          <a href="#M000530" class="method-signature">
          <span class="method-name">prepare_preprocessor_paths</span><span class="method-args">(paths)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000530-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000530-source">
<pre>
<span class="ruby-comment cmt"># File sprout/lib/sprout/tasks/tool_task.rb, line 525</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">prepare_preprocessor_paths</span>(<span class="ruby-identifier">paths</span>)
      <span class="ruby-identifier">processed</span> = []
      <span class="ruby-identifier">paths</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">path</span><span class="ruby-operator">|</span>
        <span class="ruby-identifier">processed</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">prepare_preprocessor_path</span>(<span class="ruby-identifier">path</span>)
      <span class="ruby-keyword kw">end</span>
      <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">processed</span>
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000537" class="method-detail">
        <a name="M000537"></a>

        <div class="method-heading">
          <a href="#M000537" class="method-signature">
          <span class="method-name">preprocess_content</span><span class="method-args">(content, statement, file_name)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000537-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000537-source">
<pre>
<span class="ruby-comment cmt"># File sprout/lib/sprout/tasks/tool_task.rb, line 609</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">preprocess_content</span>(<span class="ruby-identifier">content</span>, <span class="ruby-identifier">statement</span>, <span class="ruby-identifier">file_name</span>)
      <span class="ruby-identifier">process</span> = <span class="ruby-constant">ProcessRunner</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">statement</span>)
      <span class="ruby-identifier">process</span>.<span class="ruby-identifier">puts</span>(<span class="ruby-identifier">content</span>)
      <span class="ruby-identifier">process</span>.<span class="ruby-identifier">close_write</span>
      <span class="ruby-identifier">result</span> = <span class="ruby-identifier">process</span>.<span class="ruby-identifier">read</span>
      <span class="ruby-identifier">error</span> = <span class="ruby-identifier">process</span>.<span class="ruby-identifier">read_err</span>
      <span class="ruby-keyword kw">if</span>(<span class="ruby-identifier">error</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span>)
        <span class="ruby-identifier">belongs_to</span>.<span class="ruby-identifier">display_preprocess_message</span>
        <span class="ruby-constant">FileUtils</span>.<span class="ruby-identifier">rm_rf</span>(<span class="ruby-identifier">belongs_to</span>.<span class="ruby-identifier">preprocessed_path</span>)
        <span class="ruby-identifier">raise</span> <span class="ruby-constant">ExecutionError</span>.<span class="ruby-identifier">new</span>(<span class="ruby-node">&quot;[ERROR] Preprocessor failed on file #{file_name} #{error}&quot;</span>)
      <span class="ruby-keyword kw">end</span>
      <span class="ruby-identifier">process</span>.<span class="ruby-identifier">kill</span>
      <span class="ruby-constant">Log</span>.<span class="ruby-identifier">puts</span> <span class="ruby-node">&quot;&gt;&gt; Preprocessed and created: #{belongs_to.preprocessed_path}/#{file_name}&quot;</span>
      <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">result</span>
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000536" class="method-detail">
        <a name="M000536"></a>

        <div class="method-heading">
          <a href="#M000536" class="method-signature">
          <span class="method-name">setup_preprocessing_file_tasks</span><span class="method-args">(input_file, output_file)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000536-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000536-source">
<pre>
<span class="ruby-comment cmt"># File sprout/lib/sprout/tasks/tool_task.rb, line 570</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">setup_preprocessing_file_tasks</span>(<span class="ruby-identifier">input_file</span>, <span class="ruby-identifier">output_file</span>)
      <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">if</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">directory?</span>(<span class="ruby-identifier">input_file</span>))
      <span class="ruby-constant">CLEAN</span>.<span class="ruby-identifier">add</span>(<span class="ruby-identifier">belongs_to</span>.<span class="ruby-identifier">preprocessed_path</span>) <span class="ruby-keyword kw">if</span>(<span class="ruby-operator">!</span><span class="ruby-constant">CLEAN</span>.<span class="ruby-identifier">index</span>(<span class="ruby-identifier">belongs_to</span>.<span class="ruby-identifier">preprocessed_path</span>))
      
      <span class="ruby-comment cmt"># Only create the preprocessed action if one does not</span>
      <span class="ruby-comment cmt"># already exist. There were many being created before...</span>
        
      <span class="ruby-identifier">file</span> <span class="ruby-identifier">input_file</span>
      <span class="ruby-identifier">file</span> <span class="ruby-identifier">output_file</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">input_file</span> <span class="ruby-keyword kw">do</span>
        <span class="ruby-comment cmt"># Couldn't return, b/c Rake complained...</span>
        <span class="ruby-keyword kw">if</span>(<span class="ruby-operator">!</span><span class="ruby-constant">ToolTask</span><span class="ruby-operator">::</span><span class="ruby-identifier">has_preprocessed_task?</span>(<span class="ruby-identifier">output_file</span>))
          <span class="ruby-identifier">dir</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">dirname</span>(<span class="ruby-identifier">output_file</span>)
          <span class="ruby-keyword kw">if</span>(<span class="ruby-operator">!</span><span class="ruby-constant">File</span>.<span class="ruby-identifier">exists?</span>(<span class="ruby-identifier">dir</span>))
            <span class="ruby-constant">FileUtils</span>.<span class="ruby-identifier">mkdir_p</span>(<span class="ruby-identifier">dir</span>)
          <span class="ruby-keyword kw">end</span>
        
          <span class="ruby-identifier">content</span> = <span class="ruby-keyword kw">nil</span>
          <span class="ruby-comment cmt"># Open the input file and read its content:</span>
          <span class="ruby-constant">File</span>.<span class="ruby-identifier">open</span>(<span class="ruby-identifier">input_file</span>, <span class="ruby-value str">'r'</span>) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">readable</span><span class="ruby-operator">|</span>
            <span class="ruby-identifier">content</span> = <span class="ruby-identifier">readable</span>.<span class="ruby-identifier">read</span>
          <span class="ruby-keyword kw">end</span>
        
          <span class="ruby-comment cmt"># Preprocess the content if it's a known text file type:</span>
          <span class="ruby-keyword kw">if</span>(<span class="ruby-identifier">text_file?</span>(<span class="ruby-identifier">input_file</span>))
            <span class="ruby-identifier">content</span> = <span class="ruby-identifier">preprocess_content</span>(<span class="ruby-identifier">content</span>, <span class="ruby-identifier">belongs_to</span>.<span class="ruby-identifier">preprocessor</span>, <span class="ruby-identifier">input_file</span>)
          <span class="ruby-keyword kw">end</span>
        
          <span class="ruby-comment cmt"># Write the content to the output file:</span>
          <span class="ruby-constant">File</span>.<span class="ruby-identifier">open</span>(<span class="ruby-identifier">output_file</span>, <span class="ruby-value str">'w+'</span>) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">writable</span><span class="ruby-operator">|</span>
            <span class="ruby-identifier">writable</span>.<span class="ruby-identifier">write</span>(<span class="ruby-identifier">content</span>)
          <span class="ruby-keyword kw">end</span>

          <span class="ruby-constant">ToolTask</span><span class="ruby-operator">::</span><span class="ruby-identifier">add_preprocessed_task</span>(<span class="ruby-identifier">output_file</span>)
        <span class="ruby-keyword kw">end</span>
      <span class="ruby-keyword kw">end</span>
      
      <span class="ruby-identifier">belongs_to</span>.<span class="ruby-identifier">prerequisites</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">output_file</span>
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000529" class="method-detail">
        <a name="M000529"></a>

        <div class="method-heading">
          <a href="#M000529" class="method-signature">
          <span class="method-name">should_preprocess?</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000529-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000529-source">
<pre>
<span class="ruby-comment cmt"># File sprout/lib/sprout/tasks/tool_task.rb, line 521</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">should_preprocess?</span>
      <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">preprocessable</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">belongs_to</span>.<span class="ruby-identifier">preprocessor</span>.<span class="ruby-identifier">nil?</span>
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000535" class="method-detail">
        <a name="M000535"></a>

        <div class="method-heading">
          <a href="#M000535" class="method-signature">
          <span class="method-name">text_file?</span><span class="method-args">(file_name)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000535-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000535-source">
<pre>
<span class="ruby-comment cmt"># File sprout/lib/sprout/tasks/tool_task.rb, line 562</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">text_file?</span>(<span class="ruby-identifier">file_name</span>)
      [<span class="ruby-regexp re">/\.as$/</span>, <span class="ruby-regexp re">/\.txt$/</span>, <span class="ruby-regexp re">/\.mxml$/</span>, <span class="ruby-regexp re">/\.xml$/</span>, <span class="ruby-regexp re">/\.js$/</span>, <span class="ruby-regexp re">/\.html$/</span>, <span class="ruby-regexp re">/\.htm$/</span>].<span class="ruby-identifier">select</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">regex</span><span class="ruby-operator">|</span>
        <span class="ruby-keyword kw">if</span>(<span class="ruby-identifier">file_name</span>.<span class="ruby-identifier">match</span>(<span class="ruby-identifier">regex</span>))
          <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">true</span>
        <span class="ruby-keyword kw">end</span>
      }.<span class="ruby-identifier">size</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span>
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>


    </div>


  </div>


<div id="validator-badges">
  <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
</div>

</body>
</html>