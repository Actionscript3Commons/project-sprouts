<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html 
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>Class: Sprout::Sprout</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
  <meta http-equiv="Content-Script-Type" content="text/javascript" />
  <link rel="stylesheet" href="../.././rdoc-style.css" type="text/css" media="screen" />
  <script type="text/javascript">
  // <![CDATA[

  function popupCode( url ) {
    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
  }

  function toggleCode( id ) {
    if ( document.getElementById )
      elem = document.getElementById( id );
    else if ( document.all )
      elem = eval( "document.all." + id );
    else
      return false;

    elemStyle = elem.style;
    
    if ( elemStyle.display != "block" ) {
      elemStyle.display = "block"
    } else {
      elemStyle.display = "none"
    }

    return true;
  }
  
  // Make codeblocks hidden by default
  document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }</style>" )
  
  // ]]>
  </script>

</head>
<body>



    <div id="classHeader">
        <table class="header-table">
        <tr class="top-aligned-row">
          <td><strong>Class</strong></td>
          <td class="class-name-in-header">Sprout::Sprout</td>
        </tr>
        <tr class="top-aligned-row">
            <td><strong>In:</strong></td>
            <td>
                <a href="../../files/sprout/lib/sprout_rb.html">
                sprout/lib/sprout.rb
                </a>
        <br />
            </td>
        </tr>

        <tr class="top-aligned-row">
            <td><strong>Parent:</strong></td>
            <td>
                Object
            </td>
        </tr>
        </table>
    </div>
  <!-- banner header -->

  <div id="bodyContent">



  <div id="contextContent">

    <div id="description">
      <p>
Sprouts is an open-source, cross-platform project generation and
configuration tool for ActionScript 2, ActionScript 3, Adobe AIR and Flex
projects. It is built on top of Ruby Gems, Rubigen Generators and is
intended to work on any platform that Ruby runs on including specifically,
Windows XP, Windows Vista, Cygwin, OS X and Linux.
</p>
<p>
Sprouts can be separated into some core concepts as follows:
</p>
<hr size="2"></hr><h2>Tools</h2>
<p>
A Tool is a Ruby <a href="../Gem.html">Gem</a> that usually refers to an
executable or binary application. These applications are either natively
cross platform, or the Ruby <a href="../Gem.html">Gem</a> should include a
YAML document that tells Sprouts where to go in order to get the
appropriate binary for which platform the user is currently running.
</p>
<p>
CLI Tools are usually referenced by subclasses of <a
href="ToolTask.html">Sprout::ToolTask</a>.
</p>
<p>
Once installed, many Tool Sprouts are made available from your path. For
example if you install the <a
href="Sprout.html#M000523">sprout</a>-mtasc-tool gem, from that point
forward you can execute mtasc from the terminal as follows:
</p>
<pre>
  mtasc -help # Should throw an error
  sudo gem install sprout-mtasc-tool
  mtasc -help # Should download and execute mtasc
</pre>
<p>
Using just <a href="Sprout.html">Sprout</a> tools by themselves, we now
have have the ability to install and manage requisite executables across
platforms with zero configuration.
</p>
<p>
In reality, &#8216;Tool Sprouts&#8217; are actually nothing more than a
naming convention and expected gem configuration, but once those
requirements are met, the core <a href="Sprout.html">Sprout::Sprout</a> can
do some important work with them.
</p>
<hr size="2"></hr><h2>Libraries</h2>
<p>
A Library is simply shared code. Some libraries are distributed with only
source, others are only pre-compiled binaries (SWC for ActionScript
libraries), and still others are made available in both forms.
</p>
<p>
The <a href="LibraryTask.html">Sprout::LibraryTask</a> will download and
copy a remote library <a href="Sprout.html#M000523">sprout</a> gem. The
remote archive can include (or reference) either source or a pre-compiled
file. For ActionScript libraries, this would be a SWC file.
</p>
<p>
This task is integrated with some of the compiler tasks in such a way that
if an <a href="MXMLCTask.html">Sprout::MXMLCTask</a> has any number of
library tasks in it&#8216;s prerequisites list, each of those libraries
will be added to the compiler directive appropriately.
</p>
<p>
Following is a simple example of a library task. Using only this simple
task definition, the Adobe corelib library <a
href="Sprout.html#M000523">sprout</a> gem will be downloaded, installed and
copied to your <a href="ProjectModel.html">Sprout::ProjectModel</a>
<tt>lib_dir</tt>.
</p>
<pre>
  library :corelib
</pre>
<p>
By adding this named task as a prerequisite to your compilation task, that
SWC will also be added to the <a
href="MXMLCTask.html">Sprout::MXMLCTask</a> <tt>library_path</tt>
parameter.
</p>
<pre>
  mxmlc 'bin/SomeProject.swf' =&gt; :corelib
</pre>
<p>
You can also specify a particular library gem version if the library has
changed since your project began.
</p>
<pre>
  library :asunit3 do |t|
    t.version = '3.0.1'
  end
</pre>
<p>
This will ensure that only that particular library version is used for this
project.
</p>
<p>
You may want to refer to a library using a particular task name, but have
it use a different library <a href="Sprout.html#M000523">sprout</a> gem.
This can be done using the gem_name parameter as follows:
</p>
<pre>
  library :asunit do |t|
    t.gem_name = 'sprout-asunit3-library'
  end
</pre>
<p>
This may be useful because now the <a
href="http://www.asunit.org">AsUnit</a> sources will be installed to:
</p>
<pre>
  lib/asunit
</pre>
<p>
instead of:
</p>
<pre>
  lib/asunit3
</pre>
<p>
and you can now depend on this library as simply +:asunit+ in your compiler
tasks.
</p>
<p>
You can easily create your own library gems using the <a
href="GemWrapTask.html">Sprout::GemWrapTask</a> and then refer to them by
gem name.
</p>
<p>
In order to share your library tasks, you will need to do one of the
following:
</p>
<ul>
<li>Tell interested developers to manually install your library gem

</li>
<li>Upload your gem to any <a href="http://www.rubyforge.org">Rubyforge</a>
project file releases area.

<pre>
  If your gem name begins with 'sprout-' and ends with '-library', you (and others) can refer to it by only
  the string in between that prefix and suffix. Otherwise, you (and others) will always have
  to set the gem_name parameter to the full name of your custom library.
</pre>
</li>
<li>Submit your library for inclusion from the <a
href="http://www.projectsprouts.org">ProjectSprouts</a> project.

</li>
<li>Add your gem to your own custom <a
href="http://rambleon.org/2007/04/19/creating-your-own-gem-server/">gem_server</a>,
and set up your rakefiles to pull from that server

</li>
</ul>
<p>
You can search for all available libraries as follows:
</p>
<pre>
  gem search -r sprout-*library
</pre>
<p>
Only results that begin with &#8216;<a
href="Sprout.html#M000523">sprout</a>-&#8217; are known, valid libraries.
</p>
<hr size="2"></hr><h2>Bundles</h2>
<p>
A <a href="Sprout.html">Sprout</a> Bundle is a collection of Ruby code that
supports a particular interest or technology. At the time of this writing,
we have two bundles available.
</p>
<ul>
<li>ActionScript 2 Bundle (<a
href="../../files/bundles/as2/README.html">link</a>) which supports
ActionScript 2.0 development

</li>
<li>ActionScript 3 Bundle (<a
href="../../files/bundles/as3/README.html">link</a>) which supports
ActionScript 3.0, MXML and AIR development

</li>
</ul>
<p>
Bundles are the named entry point that the <tt><a
href="Sprout.html#M000523">sprout</a></tt> shell tool uses to find project
<a href="../../files/doc/Generator.html">generators</a>.
</p>
<p>
Bundles should be packaged and published to the RubyForge gem repository
with very specific names as follows:
</p>
<p>
<a href="Sprout.html#M000523">sprout</a>-#{bundle_name}-bundle where
${bundle_name} is what will be given to the -n parameter of the <tt><a
href="Sprout.html#M000523">sprout</a></tt> gem.
</p>
<p>
The as3 bundle is released as <a
href="Sprout.html#M000523">sprout</a>-as3-bundle on RubyForge, but we can
simply enter the short name when creating new as3 projects.
</p>
<hr size="2"></hr><h2>Generators</h2>
<p>
A SproutGenerator is a set of specifically configured folders and files
that have been placed in a particular, expected location on disk. The <a
href="Sprout.html">Sprout</a> generator feature is a minor modification to
the standard Rubigen generators.
</p>
<p>
Sprouts modifies the underlying Rubigen Generator implementation in that we
need support for multiple languages or technologies while Rubigen is able
to simply expect that it&#8216;s generating Ruby code.
</p>
<p>
Generators can exist in multiple different locations on disk, to learn how
to create a new generator, see the Rubigen <a
href="http://rubigen.rubyforge.org/">documentation</a>.
</p>
<p>
To use a new or existing generator, simply enter it&#8216;s name from
within a project after calling
</p>
<pre>
  script/generate
</pre>
<p>
When a string is passed to the <a href="Sprout.html#M000516">generate</a>
command, sprouts will look in the following locations in the following
order with &#8216;name&#8217; being the generator name that you have
requested:
</p>
<ul>
<li>#{<a href="Sprout.html#M000534">project_path</a>}/generators/#{name}

</li>
<li>#{<a href="Sprout.html#M000534">project_path</a>}/script/generators/#{name}

</li>
<li>#{<a href="Sprout.html#M000534">project_path</a>}/vendor/generators/#{name}

</li>
<li>#{<a
href="Sprout.html#M000526">Sprout::Sprout.sprout_cache</a>}/generators/#{Sprout::ProjectModel.language}/#{name}

</li>
<li>All Rubygems with a name ending with &#8217;-bundle&#8217; and with
contents that match &#8217;/lib/sprout/**/generators/[name]&#8217;

</li>
</ul>
<p>
This means that when you have a new project and enter:
</p>
<pre>
  script/generate foo
</pre>
<p>
We will first look in your project for, &#8216;generators/foo&#8217;,
&#8216;script/generators/foo&#8217; and
&#8216;vendor/generators/foo&#8217;.
</p>
<p>
Assuming no viable generator is found in your project, we will then look in
your <a href="Sprout.html">Sprout::Sprout</a> <a
href="Sprout.html#M000526">sprout_cache</a> for a folder named
&#8216;generators/foo&#8217;.
</p>
<p>
Assuming no viable generator is found in your system wide path, we will
begin looking inside of installed Ruby Gems. The expected gem will have a
file at:
</p>
<pre>
  lib/sprout/**/generators/foo/foo_generator.rb
</pre>
<p>
If no named generator is found in any of these places an exception will be
encountered.
</p>
<p>
Sprouts generators can be initiated from one of two places, either from a
project directory with script/generate or directly from the <a
href="Sprout.html">Sprout</a> gem.
</p>
<p>
When executing generators directly from the <a
href="Sprout.html">Sprout</a> gem, you must send in a bundle base name and
know that only &#8216;project&#8217; generators found in that bundle will
be executed.
</p>
<p>
When executing generators from a project, the <a
href="ProjectModel.html">Sprout::ProjectModel</a> language parameter is
used to determine the bundle (if necessary), and then the Generator name is
used to execute any found generator.
</p>
<hr size="2"></hr><h2>Tasks</h2>
<p>
In Sprouts, a Task is referring to a <a
href="http://rake.rubyforge.org/">Rake</a> Task.
</p>
<p>
Rake is the automated build to written in Ruby. This tool is similar to <a
href="http://ant.apache.org/">Ant</a> and <a
href="http://www.gnu.org/software/make/">Make</a> if you&#8216;re familiar
with those technologies.
</p>
<p>
The main thing that differentiates Rake from it&#8216;s competitors is the
fact that Rake tasks are defined and configured in Ruby code rather than
XML or C. This lets us more easily avoid repetition throughout a rakefile,
and we gain the full power of the Ruby language to apply to our build
scripts.
</p>
<p>
Essentially, Rake allows us to write and maintain much smaller, more
digestible build scripts.
</p>
<p>
To learn more about Rake, check out Martin Fowler&#8216;s seminal <a
href="http://martinfowler.com/articles/rake.html">article</a> on the
subject.
</p>
<p>
At the time of this writing, Sprouts makes the following Rake tasks
available:
</p>
<ul>
<li>Core <a href="SFTPTask.html">Sprout::SFTPTask</a>

</li>
<li>Core <a href="ZipTask.html">Sprout::ZipTask</a>

</li>
<li>Core <a href="LibraryTask.html">Sprout::LibraryTask</a>

</li>
<li>As3Bundle <a href="AsDocTask.html">Sprout::AsDocTask</a>

</li>
<li>As3Bundle Sprout::AsUnitTask

</li>
<li>As3Bundle <a href="COMPCTask.html">Sprout::COMPCTask</a>

</li>
<li>As3Bundle <a href="MXMLCTask.html">Sprout::MXMLCTask</a>

</li>
<li>As2Bundle <a href="MTASCTask.html">Sprout::MTASCTask</a>

</li>
<li>As2Bundle <a href="SWFMillTask.html">Sprout::SWFMillTask</a>

</li>
</ul>
<hr size="2"></hr><h2><a href="Sprout.html">Sprout</a></h2>
<p>
Tools, Libraries and Bundles are distributed as RubyGems and given a
specific gem name suffix. For some examples:
</p>
<pre>
  sprout-flex3sdk-tool
  sprout-asunit-library
  sprout-as3-bundle
</pre>
<p>
The <a href="Sprout.html">Sprout</a> application provides shared
functionality for each of the different types of Sprouts.
</p>
<p>
The <a href="Sprout.html">Sprout</a> command line tool primarily provides
access to project generators from any <a
href="Sprout.html#M000523">sprout</a> bundle that is available to your
system, either locally or from the network.
</p>
<p>
When executed from the system path, this class will download and install a
named bundle, and execute a <tt>project</tt> generator within that bundle.
Following is an example:
</p>
<pre>
  sprout -n as3 SomeProject
</pre>
<p>
The previous command will download and install the latest version of the <a
href="Sprout.html#M000523">sprout</a>-as3-bundle gem and initiate the
project_generator with a single argument of &#8216;SomeProject&#8217;. If
the string passed to the -n parameter begins with &#8216;<a
href="Sprout.html#M000523">sprout</a>-&#8217; it will be unmodified for the
lookup. For example:
</p>
<pre>
  spout -n sprout-as3-bundle SomeProject
</pre>
<p>
will not have duplicate strings prepended or suffixed.
</p>
<hr size="2"></hr><p>
Some additional resources or references:
</p>
<p>
Rake: <a href="http://rake.rubyforge.org">rake.rubyforge.org</a> <a
href="http://martinfowler.com/articles/rake.html">martinfowler.com/articles/rake.html</a>
</p>
<p>
RubyGems:
</p>
<ul>
<li><a href="http://www.rubygems.org">www.rubygems.org</a>

</li>
<li><a
href="http://www.linuxjournal.com/article/8967">www.linuxjournal.com/article/8967</a>

</li>
</ul>
<p>
Ruby Raven (Mostly Inspiration)
</p>
<ul>
<li><a href="http://raven.rubyforge.org">raven.rubyforge.org</a>

</li>
</ul>

    </div>


   </div>

    <div id="method-list">
      <h3 class="section-bar">Methods</h3>

      <div class="name-list">
      <a href="#M000536">child_rakefile</a>&nbsp;&nbsp;
      <a href="#M000530">find_gem_spec</a>&nbsp;&nbsp;
      <a href="#M000529">gem_file_cache</a>&nbsp;&nbsp;
      <a href="#M000516">generate</a>&nbsp;&nbsp;
      <a href="#M000522">get_executable</a>&nbsp;&nbsp;
      <a href="#M000519">get_executable_from_path</a>&nbsp;&nbsp;
      <a href="#M000518">get_gem_preamble</a>&nbsp;&nbsp;
      <a href="#M000537">get_implicit_project_path</a>&nbsp;&nbsp;
      <a href="#M000520">get_path_delimiter</a>&nbsp;&nbsp;
      <a href="#M000525">home</a>&nbsp;&nbsp;
      <a href="#M000532">ignore_file?</a>&nbsp;&nbsp;
      <a href="#M000528">inferred_sprout_cache</a>&nbsp;&nbsp;
      <a href="#M000531">load_gem</a>&nbsp;&nbsp;
      <a href="#M000533">project_name</a>&nbsp;&nbsp;
      <a href="#M000534">project_path</a>&nbsp;&nbsp;
      <a href="#M000535">project_rakefile</a>&nbsp;&nbsp;
      <a href="#M000517">remove_all</a>&nbsp;&nbsp;
      <a href="#M000521">remove_gems_confirmation</a>&nbsp;&nbsp;
      <a href="#M000523">sprout</a>&nbsp;&nbsp;
      <a href="#M000526">sprout_cache</a>&nbsp;&nbsp;
      <a href="#M000527">sprout_cache=</a>&nbsp;&nbsp;
      <a href="#M000524">sprout_to_gem_name</a>&nbsp;&nbsp;
      </div>
    </div>

  </div>


    <!-- if includes -->

    <div id="section">





      


    <!-- if method_list -->
    <div id="methods">
      <h3 class="section-bar">Public Class methods</h3>

      <div id="method-M000536" class="method-detail">
        <a name="M000536"></a>

        <div class="method-heading">
          <a href="#M000536" class="method-signature">
          <span class="method-name">child_rakefile</span><span class="method-args">(dir)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Look in the provided <tt>dir</tt> for files that meet the criteria to be a
valid Rakefile.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000536-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000536-source">
<pre>
<span class="ruby-comment cmt"># File sprout/lib/sprout.rb, line 457</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">child_rakefile</span>(<span class="ruby-identifier">dir</span>)
      <span class="ruby-ivar">@@default_rakefiles</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">file</span><span class="ruby-operator">|</span>
        <span class="ruby-identifier">rake_path</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-identifier">dir</span>, <span class="ruby-identifier">file</span>)
        <span class="ruby-keyword kw">if</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">exists?</span>(<span class="ruby-identifier">rake_path</span>))
          <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">rake_path</span>
        <span class="ruby-keyword kw">end</span>
      <span class="ruby-keyword kw">end</span>
      <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">nil</span>
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000530" class="method-detail">
        <a name="M000530"></a>

        <div class="method-heading">
          <a href="#M000530" class="method-signature">
          <span class="method-name">find_gem_spec</span><span class="method-args">(name, requirements=nil, recursed=false)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Retrieve the RubyGems gem spec for a particular gem <tt>name</tt> that
meets the provided <tt>requirements</tt>. <tt>requirements</tt> are
provided as a string value like:
</p>
<pre>
  '&gt;= 0.0.1'
</pre>
<p>
or
</p>
<pre>
  '0.0.1'
</pre>
<p>
This method will actually download and install the provided gem by
<tt>name</tt> and <tt>requirements</tt> if it is not found locally on the
system.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000530-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000530-source">
<pre>
<span class="ruby-comment cmt"># File sprout/lib/sprout.rb, line 355</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">find_gem_spec</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">requirements</span>=<span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">recursed</span>=<span class="ruby-keyword kw">false</span>)
      <span class="ruby-identifier">specs</span> = <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-identifier">cache</span>.<span class="ruby-identifier">sprout_search</span>(<span class="ruby-node">/.*#{name}$/</span>).<span class="ruby-identifier">reverse</span> <span class="ruby-comment cmt"># Found specs are returned in order from oldest to newest!?</span>
      <span class="ruby-identifier">requirement</span> = <span class="ruby-keyword kw">nil</span>
      <span class="ruby-keyword kw">if</span>(<span class="ruby-identifier">requirements</span>)
        <span class="ruby-identifier">requirement</span> = <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">Requirement</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">requirements</span>)
      <span class="ruby-keyword kw">end</span>
      <span class="ruby-identifier">specs</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">spec</span><span class="ruby-operator">|</span>
        <span class="ruby-keyword kw">if</span>(<span class="ruby-identifier">requirements</span>)
          <span class="ruby-keyword kw">if</span>(<span class="ruby-identifier">requirement</span>.<span class="ruby-identifier">satisfied_by?</span>(<span class="ruby-identifier">spec</span>.<span class="ruby-identifier">version</span>))
            <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">spec</span>
          <span class="ruby-keyword kw">end</span>
        <span class="ruby-keyword kw">else</span>
          <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">spec</span>
        <span class="ruby-keyword kw">end</span>
      <span class="ruby-keyword kw">end</span>

      <span class="ruby-keyword kw">if</span>(<span class="ruby-identifier">recursed</span>)
        <span class="ruby-identifier">raise</span> <span class="ruby-constant">SproutError</span>.<span class="ruby-identifier">new</span>(<span class="ruby-node">&quot;Gem Spec not found for #{name} #{requirements}&quot;</span>)
      <span class="ruby-keyword kw">else</span>
        <span class="ruby-identifier">msg</span> = <span class="ruby-node">&quot;&gt;&gt; Loading gem [#{name}]&quot;</span>
        <span class="ruby-identifier">msg</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot; #{requirements}&quot;</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">requirements</span>
        <span class="ruby-identifier">msg</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot; from #{gem_sources.join(', ')} with its dependencies&quot;</span>
        <span class="ruby-constant">Log</span>.<span class="ruby-identifier">puts</span> <span class="ruby-identifier">msg</span>
        <span class="ruby-identifier">parts</span> = [ <span class="ruby-value str">'ins'</span>, <span class="ruby-value str">'-r'</span>, <span class="ruby-identifier">name</span> ]
        <span class="ruby-comment cmt"># This url should be removed once released, released gems should be hosted from the rubyforge</span>
        <span class="ruby-comment cmt"># project, and development gems will be hosted on our domain.</span>
        <span class="ruby-identifier">parts</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;--source #{gem_sources.join(' --source ')}&quot;</span> <span class="ruby-keyword kw">if</span>(<span class="ruby-constant">Log</span>.<span class="ruby-identifier">debug</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">name</span>.<span class="ruby-identifier">index</span>(<span class="ruby-value str">'sprout-'</span>))
        <span class="ruby-identifier">parts</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;-v #{requirements}&quot;</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">requirements</span>.<span class="ruby-identifier">nil?</span>

        <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">load_gem</span>(<span class="ruby-identifier">parts</span>.<span class="ruby-identifier">join</span>(<span class="ruby-value str">&quot; &quot;</span>))
        <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-identifier">cache</span>.<span class="ruby-identifier">refresh!</span>
        <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">find_gem_spec</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">requirements</span>, <span class="ruby-keyword kw">true</span>)
      <span class="ruby-keyword kw">end</span>
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000529" class="method-detail">
        <a name="M000529"></a>

        <div class="method-heading">
          <a href="#M000529" class="method-signature">
          <span class="method-name">gem_file_cache</span><span class="method-args">(name, version)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Return the <tt><a href="Sprout.html#M000526">sprout_cache</a></tt> combined
with the passed in <tt>name</tt> and <tt>version</tt> so that you will get
a cache location for a specific gem.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000529-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000529-source">
<pre>
<span class="ruby-comment cmt"># File sprout/lib/sprout.rb, line 344</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">gem_file_cache</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">version</span>)
      <span class="ruby-keyword kw">return</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-identifier">sprout_cache</span>, <span class="ruby-node">&quot;#{name}-#{version}&quot;</span>)
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000516" class="method-detail">
        <a name="M000516"></a>

        <div class="method-heading">
          <a href="#M000516" class="method-signature">
          <span class="method-name">generate</span><span class="method-args">(sprout_name, generator_name, params, project_path=nil)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
TODO: This command should accept an array of <a
href="Sprout.html#M000523">sprout</a> names to fall back on&#8230; for
example: <a href="Sprout.html#M000516">generate</a>([&#8216;flex4&#8217;,
&#8216;as3&#8217;], &#8230;)
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000516-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000516-source">
<pre>
<span class="ruby-comment cmt"># File sprout/lib/sprout.rb, line 136</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">generate</span>(<span class="ruby-identifier">sprout_name</span>, <span class="ruby-identifier">generator_name</span>, <span class="ruby-identifier">params</span>, <span class="ruby-identifier">project_path</span>=<span class="ruby-keyword kw">nil</span>)
      <span class="ruby-comment cmt"># params.each_index do |index|</span>
      <span class="ruby-comment cmt">#   params[index] = clean_project_name(params[index])</span>
      <span class="ruby-comment cmt"># end</span>
      <span class="ruby-constant">RubiGen</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>.<span class="ruby-identifier">use_sprout_sources!</span>(<span class="ruby-identifier">sprout_name</span>, <span class="ruby-identifier">project_path</span>)
      <span class="ruby-identifier">generator</span> = <span class="ruby-constant">RubiGen</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>.<span class="ruby-identifier">instance</span>(<span class="ruby-identifier">generator_name</span>, <span class="ruby-identifier">params</span>)
      <span class="ruby-identifier">generator</span>.<span class="ruby-identifier">command</span>(<span class="ruby-identifier">:create</span>).<span class="ruby-identifier">invoke!</span>
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000522" class="method-detail">
        <a name="M000522"></a>

        <div class="method-heading">
          <a href="#M000522" class="method-signature">
          <span class="method-name">get_executable</span><span class="method-args">(name, archive_path=nil, version=nil)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Retrieve the file target to an executable by <a
href="Sprout.html#M000523">sprout</a> name. Usually, these are tool
sprouts.
</p>
<ul>
<li><tt>name</tt> Full <a href="Sprout.html#M000523">sprout</a> gem name that
contains an executable file

</li>
<li><tt>archive_path</tt> Optional parameter for tools that contain more than
one executable, or for

</li>
</ul>
<p>
when you don&#8216;t want to use the default executable presented by the
tool. For example, the Flex SDK has many executables, when this method is
called for them, one might use something like:
</p>
<pre>
  Sprout::Sprout.get_executable('sprout-flex3sdk-tool', 'bin/mxmlc')
</pre>
<ul>
<li><tt>version</tt> Optional parameter to specify a particular gem version for
this executable

</li>
</ul>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000522-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000522-source">
<pre>
<span class="ruby-comment cmt"># File sprout/lib/sprout.rb, line 252</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">get_executable</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">archive_path</span>=<span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">version</span>=<span class="ruby-keyword kw">nil</span>)
      <span class="ruby-identifier">target</span> = <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">sprout</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">version</span>)
      <span class="ruby-keyword kw">if</span>(<span class="ruby-identifier">archive_path</span>)
        <span class="ruby-comment cmt"># If caller sent in a relative path to an executable (e.g., bin/mxmlc), use it</span>
        <span class="ruby-identifier">exe</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-identifier">target</span>.<span class="ruby-identifier">installed_path</span>, <span class="ruby-identifier">archive_path</span>)
        <span class="ruby-keyword kw">if</span>(<span class="ruby-constant">User</span>.<span class="ruby-identifier">new</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">WinUser</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">archive_path</span>.<span class="ruby-identifier">match</span>(<span class="ruby-regexp re">/.exe$/</span>))
          <span class="ruby-comment cmt"># If we're on Win (even Cygwin), add .exe to support custom binaries (see sprout-flex3sdk-tool)</span>
          <span class="ruby-keyword kw">if</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">exists?</span>(<span class="ruby-identifier">exe</span> <span class="ruby-operator">+</span> <span class="ruby-value str">'.exe'</span>))
            <span class="ruby-identifier">exe</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-value str">'.exe'</span>
          <span class="ruby-keyword kw">end</span>
        <span class="ruby-keyword kw">end</span>
      <span class="ruby-keyword kw">elsif</span>(<span class="ruby-identifier">target</span>.<span class="ruby-identifier">url</span>)
        <span class="ruby-comment cmt"># Otherwise, use the default path to an executable if the RemoteFileTarget has a url prop</span>
        <span class="ruby-identifier">exe</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-identifier">target</span>.<span class="ruby-identifier">installed_path</span>, <span class="ruby-identifier">target</span>.<span class="ruby-identifier">archive_path</span>)
      <span class="ruby-keyword kw">else</span>
        <span class="ruby-comment cmt"># Otherwise attempt to run the feature from the system path</span>
        <span class="ruby-identifier">exe</span> = <span class="ruby-identifier">target</span>.<span class="ruby-identifier">archive_path</span>
      <span class="ruby-keyword kw">end</span>
      
      <span class="ruby-keyword kw">if</span>(<span class="ruby-operator">!</span><span class="ruby-constant">File</span>.<span class="ruby-identifier">exists?</span>(<span class="ruby-identifier">exe</span>))
        <span class="ruby-identifier">raise</span> <span class="ruby-constant">UsageError</span>.<span class="ruby-identifier">new</span>(<span class="ruby-node">&quot;Could not retrieve requested executable from path: #{exe}&quot;</span>)
      <span class="ruby-keyword kw">end</span>
      
      <span class="ruby-keyword kw">if</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">exists?</span>(<span class="ruby-identifier">exe</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-constant">File</span>.<span class="ruby-identifier">directory?</span>(<span class="ruby-identifier">exe</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">stat</span>(<span class="ruby-identifier">exe</span>).<span class="ruby-identifier">executable?</span>)
        <span class="ruby-constant">File</span>.<span class="ruby-identifier">chmod</span> <span class="ruby-value">0755</span>, <span class="ruby-identifier">exe</span>
      <span class="ruby-keyword kw">end</span>
      
      <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">exe</span>
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000519" class="method-detail">
        <a name="M000519"></a>

        <div class="method-heading">
          <a href="#M000519" class="method-signature">
          <span class="method-name">get_executable_from_path</span><span class="method-args">(exe)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Retrieve the full path to an executable that is available in the system
path
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000519-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000519-source">
<pre>
<span class="ruby-comment cmt"># File sprout/lib/sprout.rb, line 208</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">get_executable_from_path</span>(<span class="ruby-identifier">exe</span>)
      <span class="ruby-identifier">path</span> = <span class="ruby-constant">ENV</span>[<span class="ruby-value str">'PATH'</span>]
      <span class="ruby-identifier">file_path</span> = <span class="ruby-keyword kw">nil</span>
      <span class="ruby-identifier">path</span>.<span class="ruby-identifier">split</span>(<span class="ruby-identifier">get_path_delimiter</span>).<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">p</span><span class="ruby-operator">|</span>
        <span class="ruby-identifier">file_path</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-identifier">p</span>, <span class="ruby-identifier">exe</span>)
<span class="ruby-comment cmt">#        file_path = file_path.split(&quot;/&quot;).join(&quot;\\&quot;)</span>
<span class="ruby-comment cmt">#        file_path = file_path.split(&quot;\\&quot;).join(&quot;/&quot;)</span>
        <span class="ruby-keyword kw">if</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">exists?</span>(<span class="ruby-identifier">file_path</span>))
          <span class="ruby-keyword kw">return</span> <span class="ruby-constant">User</span>.<span class="ruby-identifier">clean_path</span>(<span class="ruby-identifier">file_path</span>)
        <span class="ruby-keyword kw">end</span>
      <span class="ruby-keyword kw">end</span>
      <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">nil</span>
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000518" class="method-detail">
        <a name="M000518"></a>

        <div class="method-heading">
          <a href="#M000518" class="method-signature">
          <span class="method-name">get_gem_preamble</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Build up the platform-specific preamble required to call the gem binary
from Kernel.execute
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000518-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000518-source">
<pre>
<span class="ruby-comment cmt"># File sprout/lib/sprout.rb, line 193</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">get_gem_preamble</span>
      <span class="ruby-identifier">usr</span> = <span class="ruby-constant">User</span>.<span class="ruby-identifier">new</span>()
      <span class="ruby-keyword kw">if</span>(<span class="ruby-operator">!</span><span class="ruby-identifier">usr</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">WinUser</span>))
        <span class="ruby-comment cmt"># Everyone but Win and Cygwin users get 'sudo '</span>
        <span class="ruby-keyword kw">return</span> <span class="ruby-node">&quot;#{SUDO_INSTALL_GEMS ? 'sudo ' : ''}gem&quot;</span>
      <span class="ruby-keyword kw">elsif</span>(<span class="ruby-operator">!</span><span class="ruby-identifier">usr</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">CygwinUser</span>))
        <span class="ruby-comment cmt"># We're in the DOS Shell</span>
        <span class="ruby-keyword kw">return</span> <span class="ruby-node">&quot;ruby #{get_executable_from_path('gem')}&quot;</span>
      <span class="ruby-keyword kw">end</span>
      <span class="ruby-comment cmt"># We're either a CygwinUser or some other non-sudo supporter</span>
      <span class="ruby-keyword kw">return</span> <span class="ruby-value str">'gem'</span>
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000537" class="method-detail">
        <a name="M000537"></a>

        <div class="method-heading">
          <a href="#M000537" class="method-signature">
          <span class="method-name">get_implicit_project_path</span><span class="method-args">(path)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000537-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000537-source">
<pre>
<span class="ruby-comment cmt"># File sprout/lib/sprout.rb, line 467</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">get_implicit_project_path</span>(<span class="ruby-identifier">path</span>)
      <span class="ruby-comment cmt"># We have recursed to the root of the filesystem, return nil</span>
      <span class="ruby-keyword kw">if</span>(<span class="ruby-identifier">path</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">path</span> <span class="ruby-operator">==</span> <span class="ruby-value str">'/'</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">path</span>.<span class="ruby-identifier">match</span>(<span class="ruby-regexp re">/[A-Z]\:\//</span>))
        <span class="ruby-keyword kw">return</span> <span class="ruby-constant">Dir</span>.<span class="ruby-identifier">pwd</span>
      <span class="ruby-keyword kw">end</span>
      <span class="ruby-comment cmt"># Look for a rakefile as a child of the current path</span>
      <span class="ruby-keyword kw">if</span>(<span class="ruby-identifier">child_rakefile</span>(<span class="ruby-identifier">path</span>))
        <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">path</span>
      <span class="ruby-keyword kw">end</span>
      <span class="ruby-comment cmt"># No rakefile and no root found, check in parent dir</span>
      <span class="ruby-keyword kw">return</span> <span class="ruby-constant">Sprout</span>.<span class="ruby-identifier">get_implicit_project_path</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">dirname</span>(<span class="ruby-identifier">path</span>))
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000520" class="method-detail">
        <a name="M000520"></a>

        <div class="method-heading">
          <a href="#M000520" class="method-signature">
          <span class="method-name">get_path_delimiter</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000520-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000520-source">
<pre>
<span class="ruby-comment cmt"># File sprout/lib/sprout.rb, line 222</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">get_path_delimiter</span>
      <span class="ruby-identifier">usr</span> = <span class="ruby-constant">User</span>.<span class="ruby-identifier">new</span>
      <span class="ruby-keyword kw">if</span>(<span class="ruby-identifier">usr</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">WinUser</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">usr</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">CygwinUser</span>))
        <span class="ruby-keyword kw">return</span> <span class="ruby-value str">';'</span>
      <span class="ruby-keyword kw">else</span>
        <span class="ruby-keyword kw">return</span> <span class="ruby-value str">':'</span>
      <span class="ruby-keyword kw">end</span>
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000525" class="method-detail">
        <a name="M000525"></a>

        <div class="method-heading">
          <a href="#M000525" class="method-signature">
          <span class="method-name">home</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Return the <a href="Sprout.html#M000525">home</a> directory for this <a
href="Sprout.html">Sprout</a> installation
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000525-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000525-source">
<pre>
<span class="ruby-comment cmt"># File sprout/lib/sprout.rb, line 319</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">home</span>
      <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@@home</span>
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000532" class="method-detail">
        <a name="M000532"></a>

        <div class="method-heading">
          <a href="#M000532" class="method-signature">
          <span class="method-name">ignore_file?</span><span class="method-args">(file)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Do not copy files found in the ignore_files list
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000532-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000532-source">
<pre>
<span class="ruby-comment cmt"># File sprout/lib/sprout.rb, line 401</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">ignore_file?</span> <span class="ruby-identifier">file</span>
      <span class="ruby-ivar">@@COPY_IGNORE_FILES</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">name</span><span class="ruby-operator">|</span>
        <span class="ruby-keyword kw">if</span>(<span class="ruby-identifier">name</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">file</span>)
          <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">true</span>
        <span class="ruby-keyword kw">end</span>
      <span class="ruby-keyword kw">end</span>
      <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">false</span>
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000528" class="method-detail">
        <a name="M000528"></a>

        <div class="method-heading">
          <a href="#M000528" class="method-signature">
          <span class="method-name">inferred_sprout_cache</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000528-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000528-source">
<pre>
<span class="ruby-comment cmt"># File sprout/lib/sprout.rb, line 337</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">inferred_sprout_cache</span>
      <span class="ruby-identifier">home</span> = <span class="ruby-constant">User</span>.<span class="ruby-identifier">application_home</span>(<span class="ruby-ivar">@@name</span>)
      <span class="ruby-keyword kw">return</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-identifier">home</span>, <span class="ruby-ivar">@@cache</span>, <span class="ruby-node">&quot;#{VERSION::MAJOR}.#{VERSION::MINOR}&quot;</span>)
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000531" class="method-detail">
        <a name="M000531"></a>

        <div class="method-heading">
          <a href="#M000531" class="method-signature">
          <span class="method-name">load_gem</span><span class="method-args">(args)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000531-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000531-source">
<pre>
<span class="ruby-comment cmt"># File sprout/lib/sprout.rb, line 390</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">load_gem</span>(<span class="ruby-identifier">args</span>)
      <span class="ruby-comment cmt"># This must use a 'system' call because RubyGems</span>
      <span class="ruby-comment cmt"># sends an 'exit'?</span>
      <span class="ruby-identifier">system</span>(<span class="ruby-node">&quot;#{get_gem_preamble} #{args}&quot;</span>)
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000533" class="method-detail">
        <a name="M000533"></a>

        <div class="method-heading">
          <a href="#M000533" class="method-signature">
          <span class="method-name">project_name</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Return the current <a href="Sprout.html#M000533">project_name</a> assuming
someone has already set it, otherwise return an empty string
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000533-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000533-source">
<pre>
<span class="ruby-comment cmt"># File sprout/lib/sprout.rb, line 431</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">project_name</span>
      <span class="ruby-ivar">@@project_name</span> <span class="ruby-operator">||=</span> <span class="ruby-value str">''</span>
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000534" class="method-detail">
        <a name="M000534"></a>

        <div class="method-heading">
          <a href="#M000534" class="method-signature">
          <span class="method-name">project_path</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
<a href="Sprout.html#M000534">project_path</a> should step backward in the
file system until it encounters a rakefile. The parent directory of that
rakefile should be returned. If no rakefile is found, it should return
Dir.pwd
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000534-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000534-source">
<pre>
<span class="ruby-comment cmt"># File sprout/lib/sprout.rb, line 444</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">project_path</span>
      <span class="ruby-ivar">@@project_path</span> <span class="ruby-operator">||=</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">project_path</span> = <span class="ruby-identifier">get_implicit_project_path</span>(<span class="ruby-constant">Dir</span>.<span class="ruby-identifier">pwd</span>)
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000535" class="method-detail">
        <a name="M000535"></a>

        <div class="method-heading">
          <a href="#M000535" class="method-signature">
          <span class="method-name">project_rakefile</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Return the rakefile in the current <tt><a
href="Sprout.html#M000534">project_path</a></tt>
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000535-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000535-source">
<pre>
<span class="ruby-comment cmt"># File sprout/lib/sprout.rb, line 449</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">project_rakefile</span>
      <span class="ruby-keyword kw">if</span>(<span class="ruby-operator">!</span><span class="ruby-keyword kw">defined?</span>(<span class="ruby-ivar">@@project_rakefile</span>))
        <span class="ruby-identifier">path</span> = <span class="ruby-identifier">project_path</span>
      <span class="ruby-keyword kw">end</span>
      <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@@project_rakefile</span> <span class="ruby-operator">||=</span> <span class="ruby-keyword kw">nil</span>
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000517" class="method-detail">
        <a name="M000517"></a>

        <div class="method-heading">
          <a href="#M000517" class="method-signature">
          <span class="method-name">remove_all</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Remove all installed RubyGems that begin with the string &#8216;<a
href="Sprout.html#M000523">sprout</a>&#8217; and clear the local <a
href="Sprout.html#M000523">sprout</a> cache
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000517-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000517-source">
<pre>
<span class="ruby-comment cmt"># File sprout/lib/sprout.rb, line 146</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">remove_all</span>
      <span class="ruby-comment cmt"># Set up sudo prefix if not on win machine</span>
      <span class="ruby-comment cmt"># Only show confirmation if there is at least one installed sprout gem</span>
      <span class="ruby-identifier">confirmation</span> = <span class="ruby-keyword kw">false</span>
      <span class="ruby-identifier">count</span> = <span class="ruby-value">0</span>
      <span class="ruby-comment cmt"># For each sprout found, remove it!</span>
      <span class="ruby-constant">RubiGen</span><span class="ruby-operator">::</span><span class="ruby-constant">GemGeneratorSource</span>.<span class="ruby-identifier">new</span>().<span class="ruby-identifier">each_sprout</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">sprout</span><span class="ruby-operator">|</span>
        <span class="ruby-identifier">count</span> <span class="ruby-operator">+=</span> <span class="ruby-value">1</span>
        <span class="ruby-identifier">command</span> = <span class="ruby-node">&quot;#{get_gem_preamble} uninstall -x -a -q #{sprout.name}&quot;</span>

        <span class="ruby-keyword kw">if</span>(<span class="ruby-operator">!</span><span class="ruby-identifier">confirmation</span>)
          <span class="ruby-keyword kw">break</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">confirmation</span> = <span class="ruby-identifier">remove_gems_confirmation</span>
        <span class="ruby-keyword kw">end</span>
        <span class="ruby-identifier">puts</span> <span class="ruby-node">&quot;executing #{command}&quot;</span>
        <span class="ruby-identifier">raise</span> <span class="ruby-node">&quot;&gt;&gt; Exited with errors: #{$?}&quot;</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">system</span>(<span class="ruby-identifier">command</span>)
      <span class="ruby-keyword kw">end</span>
      
      <span class="ruby-keyword kw">if</span>(<span class="ruby-identifier">confirmation</span>)
        <span class="ruby-identifier">puts</span> <span class="ruby-value str">&quot;All Sprout gems have been successfully uninstalled&quot;</span>
      <span class="ruby-keyword kw">elsif</span>(<span class="ruby-identifier">count</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span>)
        <span class="ruby-identifier">puts</span> <span class="ruby-value str">&quot;Some Sprout gems have been left on the system&quot;</span>
      <span class="ruby-keyword kw">else</span>
        <span class="ruby-identifier">puts</span> <span class="ruby-value str">&quot;No Sprout gems were found on this system&quot;</span>
      <span class="ruby-keyword kw">end</span>

      <span class="ruby-comment cmt"># Now clear out the cache</span>
      <span class="ruby-identifier">cache</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">dirname</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">dirname</span>(<span class="ruby-constant">Sprout</span>.<span class="ruby-identifier">sprout_cache</span>))
      
      <span class="ruby-keyword kw">if</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">exists?</span>(<span class="ruby-identifier">cache</span>))
        <span class="ruby-identifier">puts</span> <span class="ruby-node">&quot;\n[WARNING]\n\nAbout to irrevocably destroy the sprout cache at:\n\n#{cache}\n\n&quot;</span>
        <span class="ruby-identifier">puts</span> <span class="ruby-value str">&quot;Are you absolutely sure? [Yn]&quot;</span>
        <span class="ruby-identifier">response</span> = <span class="ruby-identifier">$stdin</span>.<span class="ruby-identifier">gets</span>.<span class="ruby-identifier">chomp!</span>
        <span class="ruby-keyword kw">if</span>(<span class="ruby-identifier">response</span>.<span class="ruby-identifier">downcase</span>.<span class="ruby-identifier">index</span>(<span class="ruby-value str">'y'</span>))
          <span class="ruby-constant">FileUtils</span>.<span class="ruby-identifier">rm_rf</span>(<span class="ruby-identifier">cache</span>)
        <span class="ruby-keyword kw">else</span>
          <span class="ruby-identifier">puts</span> <span class="ruby-value str">&quot;Leaving the Sprout file cache in tact....&quot;</span>
        <span class="ruby-keyword kw">end</span>
      <span class="ruby-keyword kw">else</span>
        <span class="ruby-identifier">puts</span> <span class="ruby-value str">&quot;No cached files found on this system&quot;</span>
      <span class="ruby-keyword kw">end</span>
      
      <span class="ruby-identifier">puts</span> <span class="ruby-value str">&quot;To completely remove sprouts now, run:&quot;</span>
      <span class="ruby-identifier">puts</span> <span class="ruby-node">&quot;  #{get_gem_preamble} uninstall sprout&quot;</span>
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000521" class="method-detail">
        <a name="M000521"></a>

        <div class="method-heading">
          <a href="#M000521" class="method-signature">
          <span class="method-name">remove_gems_confirmation</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000521-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000521-source">
<pre>
<span class="ruby-comment cmt"># File sprout/lib/sprout.rb, line 231</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">remove_gems_confirmation</span>
      <span class="ruby-identifier">msg</span> =<span class="ruby-value str">&quot;About to uninstall all RubyGems that match 'sprout-'....\nAre you sure you want to do this? [Yn]\n&quot;</span> 
      <span class="ruby-identifier">puts</span> <span class="ruby-identifier">msg</span>
      <span class="ruby-identifier">response</span> = <span class="ruby-identifier">$stdin</span>.<span class="ruby-identifier">gets</span>.<span class="ruby-identifier">chomp!</span>
      <span class="ruby-keyword kw">if</span>(<span class="ruby-identifier">response</span>.<span class="ruby-identifier">downcase</span>.<span class="ruby-identifier">index</span>(<span class="ruby-value str">'y'</span>))
        <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">true</span>
      <span class="ruby-keyword kw">end</span>
      <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">false</span>
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000523" class="method-detail">
        <a name="M000523"></a>

        <div class="method-heading">
          <a href="#M000523" class="method-signature">
          <span class="method-name">sprout</span><span class="method-args">(name, version=nil)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Allows us to easily download and install RubyGem sprouts by name and
version. Returns a RubyGem <a href="../Gem.html">Gem</a> <a
href="http://rubygems.org/read/chapter/20">Spec</a> when installation is
complete. If the installed gem has a Ruby file configured to
&#8216;autorequire&#8217;, that file will also be required by this method
so that any provided Ruby functionality will be immediately available to
client scripts. If the installed gem contains a &#8216;sprout.spec&#8217;
file, any RemoteFileTargets will be resolved synchronously and those files
will be available in the Sprout::Sprout.cache.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000523-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000523-source">
<pre>
<span class="ruby-comment cmt"># File sprout/lib/sprout.rb, line 292</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">sprout</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">version</span>=<span class="ruby-keyword kw">nil</span>)
      <span class="ruby-identifier">name</span> = <span class="ruby-identifier">sprout_to_gem_name</span>(<span class="ruby-identifier">name</span>)
      <span class="ruby-identifier">gem_spec</span> = <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">find_gem_spec</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">version</span>)
      <span class="ruby-identifier">sprout_spec_path</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-identifier">gem_spec</span>.<span class="ruby-identifier">full_gem_path</span>, <span class="ruby-ivar">@@spec</span>)
      
      <span class="ruby-keyword kw">if</span>(<span class="ruby-identifier">gem_spec</span>.<span class="ruby-identifier">autorequire</span>)
        <span class="ruby-identifier">$:</span>.<span class="ruby-identifier">push</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-identifier">gem_spec</span>.<span class="ruby-identifier">full_gem_path</span>, <span class="ruby-value str">'lib'</span>))
        <span class="ruby-identifier">require</span> <span class="ruby-identifier">gem_spec</span>.<span class="ruby-identifier">autorequire</span>
      <span class="ruby-keyword kw">end</span>
      <span class="ruby-keyword kw">if</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">exists?</span>(<span class="ruby-identifier">sprout_spec_path</span>))
        <span class="ruby-comment cmt"># Ensure the requisite files get downloaded and unpacked</span>
        <span class="ruby-constant">Builder</span>.<span class="ruby-identifier">build</span>(<span class="ruby-identifier">sprout_spec_path</span>, <span class="ruby-identifier">gem_file_cache</span>(<span class="ruby-identifier">gem_spec</span>.<span class="ruby-identifier">name</span>, <span class="ruby-identifier">gem_spec</span>.<span class="ruby-identifier">version</span>))
      <span class="ruby-keyword kw">else</span>
        <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">gem_spec</span>
      <span class="ruby-keyword kw">end</span>
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000526" class="method-detail">
        <a name="M000526"></a>

        <div class="method-heading">
          <a href="#M000526" class="method-signature">
          <span class="method-name">sprout_cache</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Return the location on disk where this installation of Sprouts stores
it&#8216;s cached files. If the currently installed version of Sprouts were
0.7 and your system username were &#8216;foo&#8217; this would return the
following locations:
</p>
<ul>
<li><tt>OSX</tt> /Users/foo/Library/Sprouts/cache/0.7

</li>
<li><tt>Windows</tt> C:/Documents And Settings/foo/Local Settings/Application
Data/Sprouts/cache/0.7

</li>
<li><tt>Linux</tt> ~/.sprouts/cache/0.7

</li>
</ul>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000526-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000526-source">
<pre>
<span class="ruby-comment cmt"># File sprout/lib/sprout.rb, line 329</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">sprout_cache</span>
      <span class="ruby-ivar">@@sprout_cache</span> <span class="ruby-operator">||=</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">inferred_sprout_cache</span>
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000527" class="method-detail">
        <a name="M000527"></a>

        <div class="method-heading">
          <a href="#M000527" class="method-signature">
          <span class="method-name">sprout_cache=</span><span class="method-args">(cache)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000527-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000527-source">
<pre>
<span class="ruby-comment cmt"># File sprout/lib/sprout.rb, line 333</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">sprout_cache=</span>(<span class="ruby-identifier">cache</span>)
      <span class="ruby-ivar">@@sprout_cache</span> = <span class="ruby-identifier">cache</span>
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000524" class="method-detail">
        <a name="M000524"></a>

        <div class="method-heading">
          <a href="#M000524" class="method-signature">
          <span class="method-name">sprout_to_gem_name</span><span class="method-args">(name)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Return <a href="Sprout.html#M000523">sprout</a>-#{name}-bundle for any name
that does not begin with &#8216;<a
href="Sprout.html#M000523">sprout</a>-&#8217;. This was used early on in
development but should possibly be removed as we move forward and try to
support arbitrary RubyGems.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000524-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000524-source">
<pre>
<span class="ruby-comment cmt"># File sprout/lib/sprout.rb, line 311</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">sprout_to_gem_name</span>(<span class="ruby-identifier">name</span>)
      <span class="ruby-keyword kw">if</span>(<span class="ruby-operator">!</span><span class="ruby-identifier">name</span>.<span class="ruby-identifier">match</span>(<span class="ruby-regexp re">/^sprout-/</span>))
        <span class="ruby-identifier">name</span> = <span class="ruby-node">&quot;sprout-#{name}-bundle&quot;</span>
      <span class="ruby-keyword kw">end</span>
      <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">name</span>
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>


    </div>


  </div>


<div id="validator-badges">
  <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
</div>

</body>
</html>